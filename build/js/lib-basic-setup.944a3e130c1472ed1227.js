"use strict";(self.webpackChunkapi_tester=self.webpackChunkapi_tester||[]).push([[279],{4725:(e,t,i)=>{i.d(t,{X:()=>Ki,y:()=>n.t});var n=i(4607),o=i(2300),s=i(7407),r=i(2427);const l=n.A.define(),a=n.A.define(),c=n.F.define(),h=n.F.define({combine:e=>(0,n.c)(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),u=n.S.define({create:()=>A.empty,update(e,t){let i=t.state.facet(h),o=t.annotation(l);if(o){let n=b.fromTransaction(t),s=o.side,r=0==s?e.undone:e.done;return r=n?w(r,r.length,i.minDepth,n):k(r,t.startState.selection),new A(0==s?o.rest:r,0==s?r:o.rest)}let s=t.annotation(a);if("full"!=s&&"before"!=s||(e=e.isolate()),!1===t.annotation(n.T.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let r=b.fromTransaction(t),c=t.annotation(n.T.time),u=t.annotation(n.T.userEvent);return r?e=e.addChanges(r,c,u,i.newGroupDelay,i.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,c,u,i.newGroupDelay)),"full"!=s&&"after"!=s||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new A(e.done.map(b.fromJSON),e.undone.map(b.fromJSON))});function f(e={}){return[u,h.of(e),n.E.domEventHandlers({beforeinput:(e,t)=>"historyUndo"==e.inputType?m(t):"historyRedo"==e.inputType&&p(t)})]}function d(e,t){return function({state:i,dispatch:n}){let o=i.field(u,!1);if(!o)return!1;let s=o.pop(e,i,t);return!!s&&(n(s),!0)}}const m=d(0,!1),p=d(1,!1),g=d(0,!0),v=d(1,!0);class b{constructor(e,t,i,n,o){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=o}setSelAfter(e){return new b(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new b(e.changes&&n.C.fromJSON(e.changes),[],e.mapped&&n.a.fromJSON(e.mapped),e.startSelection&&n.b.fromJSON(e.startSelection),e.selectionsAfter.map(n.b.fromJSON))}static fromTransaction(e){let t=y;for(let i of e.startState.facet(c)){let n=i(e);n.length&&(t=t.concat(n))}return!t.length&&e.changes.empty?null:new b(e.changes.invert(e.startState.doc),t,void 0,e.startState.selection,y)}static selection(e){return new b(void 0,y,void 0,void 0,e)}}function w(e,t,i,n){let o=t+1>i+20?t-i-1:0,s=e.slice(o,t);return s.push(n),s}function x(e,t){return e.length?t.length?e.concat(t):e:t}const y=[];function k(e,t){if(e.length){let i=e[e.length-1],n=i.selectionsAfter.slice(Math.max(0,i.selectionsAfter.length-200));return n.length&&n[n.length-1].eq(t)?e:(n.push(t),w(e,e.length-1,1e9,i.setSelAfter(n)))}return[b.selection([t])]}function C(e){let t=e[e.length-1],i=e.slice();return i[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),i}function M(e,t){if(!e.length)return e;let i=e.length,n=y;for(;i;){let o=S(e[i-1],t,n);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,i);return t[i-1]=o,t}t=o.mapped,i--,n=o.selectionsAfter}return n.length?[b.selection(n)]:y}function S(e,t,i){let o=x(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):y,i);if(!e.changes)return b.selection(o);let s=e.changes.map(t),r=t.mapDesc(e.changes,!0),l=e.mapped?e.mapped.composeDesc(r):r;return new b(s,n.d.mapEffects(e.effects,t),l,e.startSelection.map(r),o)}class A{constructor(e,t,i=0,n){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new A(this.done,this.undone):this}addChanges(e,t,i,n,o){let s=this.done,r=s[s.length-1];return s=r&&r.changes&&t-this.prevTime<n&&!r.selectionsAfter.length&&!r.changes.empty&&e.changes&&function(e,t){let i=[],n=!1;return e.iterChangedRanges(((e,t)=>i.push(e,t))),t.iterChangedRanges(((e,t,o,s)=>{for(let e=0;e<i.length;){let t=i[e++],r=i[e++];s>=t&&o<=r&&(n=!0)}})),n}(r.changes,e.changes)?w(s,s.length-1,o,new b(e.changes.compose(r.changes),x(e.effects,r.effects),r.mapped,r.startSelection,y)):w(s,s.length,o,e),new A(s,y,t,i)}addSelection(e,t,i,n){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:y;return o.length>0&&t-this.prevTime<n&&"keyboardselection"==i&&this.prevUserEvent==i&&(s=o[o.length-1],r=e,s.ranges.length==r.ranges.length&&0===s.ranges.filter(((e,t)=>e.empty!=r.ranges[t].empty)).length)?this:new A(k(this.done,e),this.undone,t,i);var s,r}addMapping(e){return new A(M(this.done,e),M(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=0==e?this.done:this.undone;if(0==n.length)return null;let o=n[n.length-1];if(i&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:l.of({side:e,rest:C(n)})});if(o.changes){let i=1==n.length?y:n.slice(0,n.length-1);return o.mapped&&(i=M(i,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:l.of({side:e,rest:i}),filter:!1})}return null}}A.empty=new A(y,y);const T=[{key:"Mod-z",run:m,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:p,preventDefault:!0},{key:"Mod-u",run:g,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:v,preventDefault:!0}];class L extends n.e{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}at(e){return this.range(e)}}L.prototype.elementClass="",L.prototype.toDOM=void 0,L.prototype.mapMode=n.M.TrackBefore,L.prototype.point=!0;const D=n.F.define(),R={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>n.R.empty,lineMarker:()=>null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},E=n.F.define();function I(e){return[q(),E.of(Object.assign(Object.assign({},R),e))]}const O=n.E.baseTheme({".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#999",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",height:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"}}),P=n.F.define({combine:e=>e.some((e=>e))});function q(e){let t=[N,O];return e&&!1===e.fixed&&t.push(P.of(!0)),t}const N=n.V.fromClass(class{constructor(e){this.view=e,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.gutters=e.state.facet(E).map((t=>new $(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(P),this.fixed&&(this.dom.style.position="sticky"),e.scrollDOM.insertBefore(this.dom,e.contentDOM),this.syncGutters()}update(e){this.updateGutters(e)&&this.syncGutters()}syncGutters(){let e=n.R.iter(this.view.state.facet(D),this.view.viewport.from),t=[],i=this.gutters.map((e=>new V(e,this.view.viewport)));this.view.viewportLines((o=>{let s;if(Array.isArray(o.type)){for(let e of o.type)if(e.type==n.B.Text){s=e;break}}else s=o.type==n.B.Text?o:void 0;if(s){t.length&&(t=[]),B(e,t,o.from);for(let e of i)e.line(this.view,s,t)}}),0);for(let e of i)e.finish();this.dom.style.minHeight=this.view.contentHeight+"px",this.view.state.facet(P)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"")}updateGutters(e){let t=e.startState.facet(E),i=e.state.facet(E),o=e.docChanged||e.heightChanged||e.viewportChanged||!n.R.eq(e.startState.facet(D),e.state.facet(D),e.view.viewport.from,e.view.viewport.to);if(t==i)for(let t of this.gutters)t.update(e)&&(o=!0);else{o=!0;let n=[];for(let o of i){let i=t.indexOf(o);i<0?n.push(new $(this.view,o)):(this.gutters[i].update(e),n.push(this.gutters[i]))}for(let e of this.gutters)e.dom.remove();for(let e of n)this.dom.appendChild(e.dom);this.gutters=n}return o}destroy(){this.dom.remove()}},{provide:n.P.scrollMargins.from((e=>0!=e.gutters.length&&e.fixed?e.view.textDirection==n.D.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}:null))});function H(e){return Array.isArray(e)?e:[e]}function B(e,t,i){for(;e.value&&e.from<=i;)e.from==i&&t.push(e.value),e.next()}class V{constructor(e,t){this.gutter=e,this.localMarkers=[],this.i=0,this.height=0,this.cursor=n.R.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),B(this.cursor,this.localMarkers,t.from);let n=i.length?this.localMarkers.concat(i):this.localMarkers,o=this.gutter.config.lineMarker(e,t,n);o&&n.unshift(o);let s=this.gutter;if(0==n.length&&!s.config.renderEmptyElements)return;let r=t.top-this.height;if(this.i==s.elements.length){let i=new F(e,t.height,r,n);s.elements.push(i),s.dom.appendChild(i.dom)}else{let i=s.elements[this.i];(function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].compare(t[i]))return!1;return!0})(n,i.markers)&&(n=i.markers),i.update(e,t.height,r,n)}this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;)e.dom.removeChild(e.elements.pop().dom)}}class ${constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,(n=>{let o=e.visualLineAtHeight(n.clientY,e.contentDOM.getBoundingClientRect().top);t.domEventHandlers[i](e,o,n)&&n.preventDefault()}));this.markers=H(t.markers(e)),t.initialSpacer&&(this.spacer=new F(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=H(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let i=e.view.viewport;return!n.R.eq(this.markers,t,i.from,i.to)}}class F{constructor(e,t,i,n){this.height=-1,this.above=0,this.dom=document.createElement("div"),this.update(e,t,i,n)}update(e,t,i,n){if(this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),this.markers!=n){this.markers=n;for(let e;e=this.dom.lastChild;)e.remove();let t="cm-gutterElement";for(let i of n){i.toDOM&&this.dom.appendChild(i.toDOM(e));let n=i.elementClass;n&&(t+=" "+n)}this.dom.className=t}}}const z=n.F.define(),W=n.F.define({combine:e=>(0,n.c)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let e in t){let n=i[e],o=t[e];i[e]=n?(e,t,i)=>n(e,t,i)||o(e,t,i):o}return i}})});class U extends L{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(e){return document.createTextNode(this.number)}}function j(e,t){return e.state.facet(W).formatNumber(t,e.state)}const J=I({class:"cm-lineNumbers",markers:e=>e.state.facet(z),lineMarker:(e,t,i)=>i.some((e=>e.toDOM))?null:new U(j(e,e.state.doc.lineAt(t.from).number)),initialSpacer:e=>new U(j(e,_(e.state.doc.lines))),updateSpacer(e,t){let i=j(t.view,_(t.view.state.doc.lines));return i==e.number?e:new U(i)}});function G(e={}){return[W.of(e),J]}function _(e){let t=9;for(;t<e;)t=10*t+9;return t}const K=new class extends L{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}eq(){return!0}},Q=D.compute(["selection"],(e=>{let t=[],i=-1;for(let n of e.selection.ranges)if(n.empty){let o=e.doc.lineAt(n.head).from;o>i&&(i=o,t.push(K.range(o)))}return n.R.of(t)}));function X(){return Q}function Y(e,t){let i=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);return i>=n?void 0:{from:i,to:n}}const Z=n.d.define({map:Y}),ee=n.d.define({map:Y});function te(e){let t=[];for(let{head:i}of e.state.selection.ranges)t.some((e=>e.from<=i&&e.to>=i))||t.push(e.visualLineAt(i));return t}const ie=n.S.define({create:()=>n.f.none,update(e,t){e=e.map(t.changes);for(let i of t.effects)i.is(Z)&&!oe(e,i.value.from,i.value.to)?e=e.update({add:[ue.range(i.value.from,i.value.to)]}):i.is(ee)&&(e=e.update({filter:(e,t)=>i.value.from!=e||i.value.to!=t,filterFrom:i.value.from,filterTo:i.value.to}));if(t.selection){let i=!1,{head:n}=t.selection.main;e.between(n,n,((e,t)=>{e<n&&t>n&&(i=!0)})),i&&(e=e.update({filterFrom:n,filterTo:n,filter:(e,t)=>t<=n||e>=n}))}return e},provide:e=>n.E.decorations.compute([e],(t=>t.field(e)))});function ne(e,t,i){var n;let o=null;return null===(n=e.field(ie,!1))||void 0===n||n.between(t,i,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function oe(e,t,i){let n=!1;return e.between(t,t,((e,o)=>{e==t&&o==i&&(n=!0)})),n}function se(e,t){return e.field(ie,!1)?t:t.concat(n.d.appendConfig.of(he()))}function re(e,t,i=!0){let o=e.state.doc.lineAt(t.from).number,s=e.state.doc.lineAt(t.to).number;return n.E.announce.of(`${e.state.phrase(i?"Folded lines":"Unfolded lines")} ${o} ${e.state.phrase("to")} ${s}.`)}const le=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of te(e)){let i=(0,o.f)(e.state,t.from,t.to);if(i)return e.dispatch({effects:se(e.state,[Z.of(i),re(e,i)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(ie,!1))return!1;let t=[];for(let i of te(e)){let n=ne(e.state,i.from,i.to);n&&t.push(ee.of(n),re(e,n,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,i=[];for(let n=0;n<t.doc.length;){let s=e.visualLineAt(n),r=(0,o.f)(t,s.from,s.to);r&&i.push(Z.of(r)),n=(r?e.visualLineAt(r.to):s).to+1}return i.length&&e.dispatch({effects:se(e.state,i)}),!!i.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(ie,!1);if(!t||!t.size)return!1;let i=[];return t.between(0,e.state.doc.length,((e,t)=>{i.push(ee.of({from:e,to:t}))})),e.dispatch({effects:i}),!0}}],ae={placeholderDOM:null,placeholderText:"…"},ce=n.F.define({combine:e=>(0,n.c)(e,ae)});function he(e){let t=[ie,pe];return e&&t.push(ce.of(e)),t}const ue=n.f.replace({widget:new class extends n.W{ignoreEvents(){return!1}toDOM(e){let{state:t}=e,i=t.facet(ce);if(i.placeholderDOM)return i.placeholderDOM();let n=document.createElement("span");return n.textContent=i.placeholderText,n.setAttribute("aria-label",t.phrase("folded code")),n.title=t.phrase("unfold"),n.className="cm-foldPlaceholder",n.onclick=t=>{let i=e.visualLineAt(e.posAtDOM(t.target)),n=ne(e.state,i.from,i.to);n&&e.dispatch({effects:ee.of(n)}),t.preventDefault()},n}}}),fe={openText:"⌄",closedText:"›"};class de extends L{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function me(e={}){let t=Object.assign(Object.assign({},fe),e),i=new de(t,!0),s=new de(t,!1),r=n.V.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(o.l)!=e.state.facet(o.l)||e.startState.field(ie,!1)!=e.state.field(ie,!1))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new n.g;return e.viewportLines((n=>{let r=ne(e.state,n.from,n.to)?s:(0,o.f)(e.state,n.from,n.to)?i:null;r&&t.add(n.from,n.from,r)})),t.finish()}});return[r,I({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.markers)||n.R.empty},initialSpacer:()=>new de(t,!1),domEventHandlers:{click:(e,t)=>{let i=ne(e.state,t.from,t.to);if(i)return e.dispatch({effects:ee.of(i)}),!0;let n=(0,o.f)(e.state,t.from,t.to);return!!n&&(e.dispatch({effects:Z.of(n)}),!0)}}}),he()]}const pe=n.E.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter .cm-gutterElement":{padding:"0 1px",cursor:"pointer"}}),ge={brackets:["(","[","{","'",'"'],before:")]}'\":;>"},ve=n.d.define({map(e,t){let i=t.mapPos(e,-1,n.M.TrackAfter);return null==i?void 0:i}}),be=n.d.define({map:(e,t)=>t.mapPos(e)}),we=new class extends n.e{};we.startSide=1,we.endSide=-1;const xe=n.S.define({create:()=>n.R.empty,update(e,t){if(t.selection){let i=t.state.doc.lineAt(t.selection.main.head).from,o=t.startState.doc.lineAt(t.startState.selection.main.head).from;i!=t.changes.mapPos(o,-1)&&(e=n.R.empty)}e=e.map(t.changes);for(let i of t.effects)i.is(ve)?e=e.update({add:[we.range(i.value,i.value+1)]}):i.is(be)&&(e=e.update({filter:e=>e!=i.value}));return e}});function ye(){return[n.E.inputHandler.of(Se),xe]}const ke="()[]{}<>";function Ce(e){for(let t=0;t<ke.length;t+=2)if(ke.charCodeAt(t)==e)return ke.charAt(t+1);return(0,n.k)(e<128?e:e+1)}function Me(e,t){return e.languageDataAt("closeBrackets",t)[0]||ge}function Se(e,t,i,o){if(e.composing)return!1;let s=e.state.selection.main;if(o.length>2||2==o.length&&1==(0,n.h)((0,n.i)(o,0))||t!=s.from||i!=s.to)return!1;let r=function(e,t){let i=Me(e,e.selection.main.head),o=i.brackets||ge.brackets;for(let s of o){let r=Ce((0,n.i)(s,0));if(t==s)return r==s?Ee(e,s,o.indexOf(s+s+s)>-1):De(e,s,r,i.before||ge.before);if(t==r&&Te(e,e.selection.main.from))return Re(e,0,r)}return null}(e.state,o);return!!r&&(e.dispatch(r),!0)}const Ae=[{key:"Backspace",run:({state:e,dispatch:t})=>{let i=Me(e,e.selection.main.head).brackets||ge.brackets,o=null,s=e.changeByRange((t=>{if(t.empty){let o=function(e,t){let i=e.sliceString(t-2,t);return(0,n.h)((0,n.i)(i,0))==i.length?i:i.slice(1)}(e.doc,t.head);for(let s of i)if(s==o&&Le(e.doc,t.head)==Ce((0,n.i)(s,0)))return{changes:{from:t.head-s.length,to:t.head+s.length},range:n.b.cursor(t.head-s.length),annotations:n.T.userEvent.of("delete")}}return{range:o=t}}));return o||t(e.update(s,{scrollIntoView:!0})),!o}}];function Te(e,t){let i=!1;return e.field(xe).between(0,e.doc.length,(e=>{e==t&&(i=!0)})),i}function Le(e,t){let i=e.sliceString(t,t+2);return i.slice(0,(0,n.h)((0,n.i)(i,0)))}function De(e,t,i,o){let s=null,r=e.changeByRange((r=>{if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:i,from:r.to}],effects:ve.of(r.to+t.length),range:n.b.range(r.anchor+t.length,r.head+t.length)};let l=Le(e.doc,r.head);return!l||/\s/.test(l)||o.indexOf(l)>-1?{changes:{insert:t+i,from:r.head},effects:ve.of(r.head+t.length),range:n.b.cursor(r.head+t.length)}:{range:s=r}}));return s?null:e.update(r,{scrollIntoView:!0,annotations:n.T.userEvent.of("input")})}function Re(e,t,i){let o=null,s=e.selection.ranges.map((t=>t.empty&&Le(e.doc,t.head)==i?n.b.cursor(t.head+i.length):o=t));return o?null:e.update({selection:n.b.create(s,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((({from:e})=>be.of(e)))})}function Ee(e,t,i){let o=null,s=e.changeByRange((s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:t,from:s.to}],effects:ve.of(s.to+t.length),range:n.b.range(s.anchor+t.length,s.head+t.length)};let r=s.head,l=Le(e.doc,r);if(l==t){if(Ie(e,r))return{changes:{insert:t+t,from:r},effects:ve.of(r+t.length),range:n.b.cursor(r+t.length)};if(Te(e,r)){let o=i&&e.sliceDoc(r,r+3*t.length)==t+t+t;return{range:n.b.cursor(r+t.length*(o?3:1)),effects:be.of(r)}}}else{if(i&&e.sliceDoc(r-2*t.length,r)==t+t&&Ie(e,r-2*t.length))return{changes:{insert:t+t+t+t,from:r},effects:ve.of(r+t.length),range:n.b.cursor(r+t.length)};if(e.charCategorizer(r)(l)!=n.j.Word){let i=e.sliceDoc(r-1,r);if(i!=t&&e.charCategorizer(r)(i)!=n.j.Word)return{changes:{insert:t+t,from:r},effects:ve.of(r+t.length),range:n.b.cursor(r+t.length)}}}return{range:o=s}}));return o?null:e.update(s,{scrollIntoView:!0,annotations:n.T.userEvent.of("input")})}function Ie(e,t){let i=(0,o.s)(e).resolve(t+1);return i.parent&&i.from==t}const Oe=n.F.define({combine(e){let t,i;for(let n of e)t=t||n.topContainer,i=i||n.bottomContainer;return{topContainer:t,bottomContainer:i}}});function Pe(e,t){let i=e.plugin(qe),n=i?i.specs.indexOf(t):-1;return n>-1?i.panels[n]:null}const qe=n.V.fromClass(class{constructor(e){this.input=e.state.facet(Ve),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(Oe);this.top=new Ne(e,!0,t.topContainer),this.bottom=new Ne(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.class&&e.dom.classList.add(e.class),e.mount&&e.mount()}update(e){let t=e.state.facet(Oe);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Ne(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ne(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let i=e.state.facet(Ve);if(i!=this.input){let t=i.filter((e=>e)),n=[],o=[],s=[],r=[];for(let i of t){let t,l=this.specs.indexOf(i);l<0?(t=i(e.view),r.push(t)):(t=this.panels[l],t.update&&t.update(e)),n.push(t),(t.top?o:s).push(t)}this.specs=t,this.panels=n,this.top.sync(o),this.bottom.sync(s);for(let e of r)e.dom.classList.add("cm-panel"),e.class&&e.dom.classList.add(e.class),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n.P.scrollMargins.from((e=>({top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()})))});class Ne{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=He(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=He(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function He(e){let t=e.nextSibling;return e.remove(),t}const Be=n.E.baseTheme({".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"}}),Ve=n.F.define({enables:[qe,Be]});function $e(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,i=arguments[1];if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i)){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n];"string"==typeof o?e.setAttribute(n,o):null!=o&&(e[n]=o)}t++}for(;t<arguments.length;t++)Fe(e,arguments[t]);return e}function Fe(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var i=0;i<t.length;i++)Fe(e,t[i])}}const ze="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class We{constructor(e,t,i=0,n=e.length,o){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=o?e=>o(ze(e)):ze,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,n.i)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,n.k)(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=(0,n.h)(e);let o=this.normalize(t);for(let e=0,n=i;;e++){let s=o.charCodeAt(e),r=this.match(s,n);if(r)return this.value=r,this;if(e==o.length-1)break;n==i&&e<t.length&&t.charCodeAt(e)==s&&n++}}}match(e,t){let i=null;for(let n=0;n<this.matches.length;n+=2){let o=this.matches[n],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[n+1],to:t+1}:(this.matches[n]++,s=!0)),s||(this.matches.splice(n,2),n-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:t+1}:this.matches.push(1,t)),i}}const Ue={from:-1,to:-1,match:/.*/.exec("")},je="gm"+(null==/x/.unicode?"":"u");class Je{constructor(e,t,i,n=0,o=e.length){if(this.to=o,this.curLine="",this.done=!1,this.value=Ue,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Ke(e,t,i,n,o);this.re=new RegExp(t,je+((null==i?void 0:i.ignoreCase)?"i":"")),this.iter=e.iter();let s=e.lineAt(n);this.curLineStart=s.from,this.matchPos=n,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,n=i+t[0].length;if(this.matchPos=n+(i==n?1:0),i==this.curLine.length&&this.nextLine(),i<n||i>this.value.to)return this.value={from:i,to:n,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Ge=new WeakMap;class _e{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let n=Ge.get(e);if(!n||n.from>=i||n.to<=t){let n=new _e(t,e.sliceString(t,i));return Ge.set(e,n),n}if(n.from==t&&n.to==i)return n;let{text:o,from:s}=n;return s>t&&(o=e.sliceString(t,s)+o,s=t),n.to<i&&(o+=e.sliceString(n.to,i)),Ge.set(e,new _e(s,o)),new _e(t,o.slice(t-s,i-s))}}class Ke{constructor(e,t,i,n,o){this.text=e,this.to=o,this.done=!1,this.value=Ue,this.matchPos=n,this.re=new RegExp(t,je+((null==i?void 0:i.ignoreCase)?"i":"")),this.flat=_e.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,i=e+t[0].length;return this.value={from:e,to:i,match:t},this.matchPos=i+(e==i?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=_e.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Qe(e){let t=$e("input",{class:"cm-textfield",name:"line"});function i(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!i)return;let{state:o}=e,s=o.doc.lineAt(o.selection.main.head),[,r,l,a,c]=i,h=a?+a.slice(1):0,u=l?+l:s.number;if(l&&c){let e=u/100;r&&(e=e*("-"==r?-1:1)+s.number/o.doc.lines),u=Math.round(o.doc.lines*e)}else l&&r&&(u=u*("-"==r?-1:1)+s.number);let f=o.doc.line(Math.max(1,Math.min(o.doc.lines,u)));e.dispatch({effects:Xe.of(!1),selection:n.b.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:!0}),e.focus()}return{dom:$e("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Xe.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),i())},onsubmit:e=>{e.preventDefault(),i()}},$e("label",e.state.phrase("Go to line"),": ",t)," ",$e("button",{class:"cm-button",type:"submit"},e.state.phrase("go"))),pos:-10}}const Xe=n.d.define(),Ye=n.S.define({create:()=>!0,update(e,t){for(let i of t.effects)i.is(Xe)&&(e=i.value);return e},provide:e=>Ve.from(e,(e=>e?Qe:null))}),Ze=n.E.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),et={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100},tt=n.F.define({combine:e=>(0,n.c)(e,et,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function it(e){let t=[rt,st];return e&&t.push(tt.of(e)),t}const nt=n.f.mark({class:"cm-selectionMatch"}),ot=n.f.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),st=n.V.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(tt),{state:i}=e,o=i.selection;if(o.ranges.length>1)return n.f.none;let s,r=o.main,l=null;if(r.empty){if(!t.highlightWordAroundCursor)return n.f.none;let e=i.wordAt(r.head);if(!e)return n.f.none;l=i.charCategorizer(r.head),s=i.sliceDoc(e.from,e.to)}else{let e=r.to-r.from;if(e<t.minSelectionLength||e>200)return n.f.none;if(s=i.sliceDoc(r.from,r.to).trim(),!s)return n.f.none}let a=[];for(let o of e.visibleRanges){let e=new We(i.doc,s,o.from,o.to);for(;!e.nextOverlapping().done;){let{from:o,to:s}=e.value;if((!l||(0==o||l(i.sliceDoc(o-1,o))!=n.j.Word)&&(s==i.doc.length||l(i.sliceDoc(s,s+1))!=n.j.Word))&&(l&&o<=r.from&&s>=r.to?a.push(ot.range(o,s)):(o>=r.to||s<=r.from)&&a.push(nt.range(o,s)),a.length>t.maxMatches))return n.f.none}}return n.f.set(a)}},{decorations:e=>e.decorations}),rt=n.E.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),lt=n.F.define({combine:e=>({top:e.some((e=>e.top))})});class at{constructor(e,t,i){this.search=e,this.replace=t,this.caseInsensitive=i}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseInsensitive==e.caseInsensitive&&this.constructor==e.constructor}}class ct extends at{constructor(e,t,i){super(e,t,i),this.unquoted=e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}cursor(e,t=0,i=e.length){return new We(e,this.unquoted,t,i,this.caseInsensitive?e=>e.toLowerCase():void 0)}nextMatch(e,t,i){let n=this.cursor(e,i).nextOverlapping();return n.done&&(n=this.cursor(e,0,t).nextOverlapping()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=i;;){let i=Math.max(t,n-1e4-this.unquoted.length),o=this.cursor(e,i,n),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(i==t)return null;n-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.replace}matchAll(e,t){let i=this.cursor(e),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let o=this.cursor(e,Math.max(0,t-this.unquoted.length),Math.min(i+this.unquoted.length,e.length));for(;!o.next().done;)n(o.value.from,o.value.to)}get valid(){return!!this.search}}class ht extends at{constructor(e,t,i){super(e,t,i),this.valid=!!e&&function(e){try{return new RegExp(e,je),!0}catch(e){return!1}}(e)}cursor(e,t=0,i=e.length){return new Je(e,this.search,this.caseInsensitive?{ignoreCase:!0}:void 0,t,i)}nextMatch(e,t,i){let n=this.cursor(e,i).next();return n.done&&(n=this.cursor(e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=1;;n++){let o=Math.max(t,i-1e4*n),s=this.cursor(e,o,i),r=null;for(;!s.next().done;)r=s.value;if(r&&(o==t||r.from>o+10))return r;if(o==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.replace.replace(/\$([$&\d+])/g,((t,i)=>"$"==i?"$":"&"==i?e.match[0]:"0"!=i&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=this.cursor(e),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let o=this.cursor(e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!o.next().done;)n(o.value.from,o.value.to)}}const ut=n.d.define(),ft=n.d.define(),dt=n.S.define({create:e=>new mt(St(e),Mt),update(e,t){for(let i of t.effects)i.is(ut)?e=new mt(i.value,e.panel):i.is(ft)&&(e=new mt(e.query,i.value?Mt:null));return e},provide:e=>Ve.from(e,(e=>e.panel))});class mt{constructor(e,t){this.query=e,this.panel=t}}const pt=n.f.mark({class:"cm-searchMatch"}),gt=n.f.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vt=n.V.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(dt))}update(e){let t=e.state.field(dt);(t!=e.startState.field(dt)||e.docChanged||e.selectionSet)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.valid)return n.f.none;let{view:i}=this,o=new n.g;for(let t=0,n=i.visibleRanges,s=n.length;t<s;t++){let{from:r,to:l}=n[t];for(;t<s-1&&l>n[t+1].from-500;)l=n[++t].to;e.highlight(i.state.doc,r,l,((e,t)=>{let n=i.state.selection.ranges.some((i=>i.from==e&&i.to==t));o.add(e,t,n?gt:pt)}))}return o.finish()}},{decorations:e=>e.decorations});function bt(e){return t=>{let i=t.state.field(dt,!1);return i&&i.query.valid?e(t,i):At(t)}}const wt=bt(((e,{query:t})=>{let{from:i,to:n}=e.state.selection.main,o=t.nextMatch(e.state.doc,i,n);return!(!o||o.from==i&&o.to==n||(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Et(e,o)}),0))})),xt=bt(((e,{query:t})=>{let{state:i}=e,{from:n,to:o}=i.selection.main,s=t.prevMatch(i.doc,n,o);return!!s&&(e.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Et(e,s)}),!0)})),yt=bt(((e,{query:t})=>{let i=t.matchAll(e.state.doc,1e3);return!(!i||!i.length||(e.dispatch({selection:n.b.create(i.map((e=>n.b.range(e.from,e.to))))}),0))})),kt=bt(((e,{query:t})=>{let{state:i}=e,{from:n,to:o}=i.selection.main,s=t.nextMatch(i.doc,n,n);if(!s)return!1;let r,l,a=[];if(s.from==n&&s.to==o&&(l=i.toText(t.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=t.nextMatch(i.doc,s.from,s.to)),s){let e=0==a.length||a[0].from>=s.to?0:s.to-s.from-l.length;r={anchor:s.from-e,head:s.to-e}}return e.dispatch({changes:a,selection:r,scrollIntoView:!!r,effects:s?Et(e,s):void 0}),!0})),Ct=bt(((e,{query:t})=>{let i=t.matchAll(e.state.doc,1e9).map((e=>{let{from:i,to:n}=e;return{from:i,to:n,insert:t.getReplacement(e)}}));return!!i.length&&(e.dispatch({changes:i}),!0)}));function Mt(e){let{query:t}=e.state.field(dt);return{dom:Dt({view:e,query:t,updateQuery(i){t.eq(i)||(t=i,e.dispatch({effects:ut.of(t)}))}}),mount(){this.dom.querySelector("[name=search]").select()},pos:80,top:e.state.facet(lt).top}}function St(e,t){let i=e.selection.main,n=i.empty||i.to>i.from+100?"":e.sliceDoc(i.from,i.to);return t&&!n?t:new ct(n.replace(/\n/g,"\\n"),"",(null==t?void 0:t.caseInsensitive)||!1)}const At=e=>{let t=e.state.field(dt,!1);if(t&&t.panel){let t=Pe(e,Mt);if(!t)return!1;t.dom.querySelector("[name=search]").focus()}else e.dispatch({effects:[ft.of(!0),t?ut.of(St(e.state,t.query)):n.d.appendConfig.of(Ot)]});return!0},Tt=e=>{let t=e.state.field(dt,!1);if(!t||!t.panel)return!1;let i=Pe(e,Mt);return i&&i.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:ft.of(!1)}),!0},Lt=[{key:"Mod-f",run:At,scope:"editor search-panel"},{key:"F3",run:wt,shift:xt,scope:"editor search-panel"},{key:"Mod-g",run:wt,shift:xt,scope:"editor search-panel"},{key:"Escape",run:Tt,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let i=e.selection;if(i.ranges.length>1||i.main.empty)return!1;let{from:o,to:s}=i.main,r=[],l=0;for(let t=new We(e.doc,e.sliceDoc(o,s));!t.next().done;){if(r.length>1e3)return!1;t.value.from==o&&(l=r.length),r.push(n.b.range(t.value.from,t.value.to))}return t(e.update({selection:n.b.create(r,l)})),!0}},{key:"Alt-g",run:e=>{let t=Pe(e,Qe);if(!t){let i=[Xe.of(!0)];null==e.state.field(Ye,!1)&&i.push(n.d.appendConfig.of([Ye,Ze])),e.dispatch({effects:i}),t=Pe(e,Qe)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:i}=e.selection;if(i.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:i}=e,o=n.b.create(i.ranges.map((t=>e.wordAt(t.head)||n.b.cursor(t.head))),i.mainIndex);return!o.eq(i)&&(t(e.update({selection:o})),!0)})({state:e,dispatch:t});let o=e.sliceDoc(i[0].from,i[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=o)))return!1;let s=function(e,t){let{ranges:i}=e.selection,n=new We(e.doc,t,i[i.length-1].to).next();if(!n.done)return n.value;let o=new We(e.doc,t,0,Math.max(0,i[i.length-1].from-1));for(;!o.next().done;)if(!i.some((e=>e.from===o.value.from)))return o.value;return null}(e,o);return!!s&&(t(e.update({selection:e.selection.addRange(n.b.range(s.from,s.to)),scrollIntoView:!0})),!0)}}];function Dt(e){function t(t){return e.view.state.phrase(t)}let i=$e("input",{value:e.query.search,placeholder:t("Find"),"aria-label":t("Find"),class:"cm-textfield",name:"search",onchange:l,onkeyup:l}),o=$e("input",{value:e.query.replace,placeholder:t("Replace"),"aria-label":t("Replace"),class:"cm-textfield",name:"replace",onchange:l,onkeyup:l}),s=$e("input",{type:"checkbox",name:"case",checked:!e.query.caseInsensitive,onchange:l}),r=$e("input",{type:"checkbox",name:"re",checked:e.query instanceof ht,onchange:l});function l(){e.updateQuery(new(r.checked?ht:ct)(i.value,o.value,!s.checked))}function a(e,t,i){return $e("button",{class:"cm-button",name:e,onclick:t},i)}return $e("div",{onkeydown:function(t){(0,n.r)(e.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==i?(t.preventDefault(),(t.shiftKey?xt:wt)(e.view)):13==t.keyCode&&t.target==o&&(t.preventDefault(),kt(e.view))},class:"cm-search"},[i,a("next",(()=>wt(e.view)),[t("next")]),a("prev",(()=>xt(e.view)),[t("previous")]),a("select",(()=>yt(e.view)),[t("all")]),$e("label",null,[s,t("match case")]),$e("label",null,[r,t("regexp")]),$e("br"),o,a("replace",(()=>kt(e.view)),[t("replace")]),a("replaceAll",(()=>Ct(e.view)),[t("replace all")]),$e("button",{name:"close",onclick:()=>Tt(e.view),"aria-label":t("close")},["×"])])}const Rt=/[\s\.,:;?!]/;function Et(e,{from:t,to:i}){let o=e.state.doc.lineAt(t).from,s=e.state.doc.lineAt(i).to,r=Math.max(o,t-30),l=Math.min(s,i+30),a=e.state.sliceDoc(r,l);if(r!=o)for(let e=0;e<30;e++)if(!Rt.test(a[e+1])&&Rt.test(a[e])){a=a.slice(e);break}if(l!=s)for(let e=a.length-1;e>a.length-30;e--)if(!Rt.test(a[e-1])&&Rt.test(a[e])){a=a.slice(0,e);break}return n.E.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const It=n.E.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ot=[dt,n.l.override(vt),It],Pt="undefined"!=typeof navigator&&!/Edge\/(\d+)/.exec(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),qt="-10000px",Nt=n.V.fromClass(class{constructor(e){this.view=e,this.inView=!0,this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.input=e.state.facet(Bt),this.tooltips=this.input.filter((e=>e)),this.tooltipViews=this.tooltips.map((e=>this.createTooltip(e)))}update(e){let t=e.state.facet(Bt);if(t==this.input)for(let t of this.tooltipViews)t.update&&t.update(e);else{let i=t.filter((e=>e)),n=[];for(let t=0;t<i.length;t++){let o=i[t],s=-1;if(o){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==o.create&&(s=e)}if(s<0)n[t]=this.createTooltip(o);else{let i=n[t]=this.tooltipViews[s];i.update&&i.update(e)}}}for(let e of this.tooltipViews)n.indexOf(e)<0&&e.dom.remove();this.input=t,this.tooltips=i,this.tooltipViews=n,this.maybeMeasure()}}createTooltip(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip"),e.class&&t.dom.classList.add(e.class),t.dom.style.top=qt,this.view.dom.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){for(let{dom:e}of this.tooltipViews)e.remove()}readMeasure(){return{editor:this.view.dom.getBoundingClientRect(),pos:this.tooltips.map((e=>this.view.coordsAtPos(e.pos))),size:this.tooltipViews.map((({dom:e})=>e.getBoundingClientRect())),innerWidth:window.innerWidth,innerHeight:window.innerHeight}}writeMeasure(e){let{editor:t}=e;for(let i=0;i<this.tooltipViews.length;i++){let o=this.tooltips[i],s=this.tooltipViews[i],{dom:r}=s,l=e.pos[i],a=e.size[i];if(!l||l.bottom<=t.top||l.top>=t.bottom||l.right<=t.left||l.left>=t.right){r.style.top=qt;continue}let c=a.right-a.left,h=a.bottom-a.top,u=this.view.textDirection==n.D.LTR?Math.min(l.left,e.innerWidth-c):Math.max(0,l.left-c),f=!!o.above;!o.strictSide&&(f?l.top-(a.bottom-a.top)<0:l.bottom+(a.bottom-a.top)>e.innerHeight)&&(f=!f),Pt?(r.style.top=(f?l.top-h:l.bottom)-t.top+"px",r.style.left=u-t.left+"px",r.style.position="absolute"):(r.style.top=(f?l.top-h:l.bottom)+"px",r.style.left=u+"px"),r.classList.toggle("cm-tooltip-above",f),r.classList.toggle("cm-tooltip-below",!f),s.positioned&&s.positioned()}}maybeMeasure(){this.tooltips.length&&((this.view.inView||this.inView)&&this.view.requestMeasure(this.measureReq),this.inView=this.view.inView)}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Ht=n.E.baseTheme({".cm-tooltip":{position:"fixed",zIndex:100},"&light .cm-tooltip":{border:"1px solid #ddd",backgroundColor:"#f5f5f5"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"}}),Bt=n.F.define({enables:[Nt,Ht]});class Vt{constructor(e,t,i,n){this.view=e,this.source=t,this.field=i,this.setHover=n,this.lastMouseMove=null,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now(),t=this.lastMouseMove;e-t.timeStamp<750?this.hoverTimeout=setTimeout(this.checkHover,750-(e-t.timeStamp)):this.startHover()}startHover(){var e;clearTimeout(this.restartTimeout);let t=this.lastMouseMove,i={x:t.clientX,y:t.clientY},o=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(i):null;if(null==o)return;let s=this.view.coordsAtPos(o);if(null==s||i.y<s.top||i.y>s.bottom||i.x<s.left-this.view.defaultCharacterWidth||i.x>s.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(o)).find((e=>e.from<=o&&e.to>=o)),l=r&&r.dir==n.D.RTL?-1:1,a=this.source(this.view,o,i.x<s.left?-l:l);if(null===(e=a)||void 0===e?void 0:e.then){let e=this.pending={pos:o};a.then((t=>{this.pending==e&&(this.pending=null,t&&this.view.dispatch({effects:this.setHover.of(t)}))}),(e=>(0,n.m)(this.view.state,e,"hover tooltip")))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMouseMove=e,this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,750));let i=this.active;if(i&&!function(e){for(let t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}(e.target)||this.pending){let{pos:n}=i||this.pending,o=null!==(t=null==i?void 0:i.end)&&void 0!==t?t:n;(n==o?this.view.posAtCoords({x:e.clientX,y:e.clientY})==n:function(e,t,i,n,o,s){let r=document.createRange(),l=e.domAtPos(t),a=e.domAtPos(i);r.setEnd(a.node,a.offset),r.setStart(l.node,l.offset);let c=r.getClientRects();r.detach();for(let e=0;e<c.length;e++){let t=c[e];if(Math.max(t.top-o,o-t.bottom,t.left-n,n-t.right)<=6)return!0}return!1}(this.view,n,o,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function $t(e,t={}){const i=n.d.define(),o=n.S.define({create:()=>null,update(e,o){if(e&&t.hideOnChange&&(o.docChanged||o.selection))return null;for(let e of o.effects)if(e.is(i))return e.value;if(e&&o.docChanged){let t=o.changes.mapPos(e.pos,-1,n.M.TrackDel);if(null==t)return null;let i=Object.assign(Object.create(null),e);return i.pos=t,null!=e.end&&(i.end=o.changes.mapPos(e.end)),i}return e},provide:e=>Bt.from(e)});return[o,n.V.define((t=>new Vt(t,e,o,i)))]}class Ft{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=(0,o.s)(this.state).resolve(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),o=n.search(jt(e,!1));return o<0?null:{from:i+o,to:this.pos,text:n.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function zt(e){let t=Object.keys(e).join(""),i=/\w/.test(t);return i&&(t=t.replace(/\w/g,"")),`[${i?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}class Wt{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function Ut(e){return e.selection.main.head}function jt(e,t){var i;let{source:n}=e,o=t&&"^"!=n[0],s="$"!=n[n.length-1];return o||s?new RegExp(`${o?"^":""}(?:${n})${s?"$":""}`,null!==(i=e.flags)&&void 0!==i?i:e.ignoreCase?"i":""):e}function Jt(e,t){let i=t.completion.apply||t.completion.label,n=t.source;"string"==typeof i?e.dispatch({changes:{from:n.from,to:n.to,insert:i},selection:{anchor:n.from+i.length}}):i(e,t.completion,n.from,n.to)}const Gt=new WeakMap;function _t(e){if(!Array.isArray(e))return e;let t=Gt.get(e);return t||Gt.set(e,t=function(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[i,n]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),i=Object.create(null);for(let{label:n}of e){t[n[0]]=!0;for(let e=1;e<n.length;e++)i[n[e]]=!0}let n=zt(t)+zt(i)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(t);return e=>{let o=e.matchBefore(n);return o||e.explicit?{from:o?o.from:e.pos,options:t,span:i}:null}}(e)),t}class Kt{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=(0,n.i)(e,t),o=(0,n.h)(i);this.chars.push(i);let s=e.slice(t,t+o),r=s.toUpperCase();this.folded.push((0,n.i)(r==s?s.toLowerCase():r,0)),t+=o}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:o,precise:s,byWord:r}=this;if(1==t.length){let o=(0,n.i)(e,0);return o==t[0]?[0,0,(0,n.h)(o)]:o==i[0]?[-200,0,(0,n.h)(o)]:null}let l=e.indexOf(this.pattern);if(0==l)return[0,0,this.pattern.length];let a=t.length,c=0;if(l<0){for(let s=0,r=Math.min(e.length,200);s<r&&c<a;){let r=(0,n.i)(e,s);r!=t[c]&&r!=i[c]||(o[c++]=s),s+=(0,n.h)(r)}if(c<a)return null}let h=0,u=0,f=!1,d=0,m=-1,p=-1,g=/[a-z]/.test(e);for(let o=0,c=Math.min(e.length,200),v=0;o<c&&u<a;){let c=(0,n.i)(e,o);l<0&&(h<a&&c==t[h]&&(s[h++]=o),d<a&&(c==t[d]||c==i[d]?(0==d&&(m=o),p=o,d++):d=0));let b,w=c<255?c>=48&&c<=57||c>=97&&c<=122?2:c>=65&&c<=90?1:0:(b=(0,n.k)(c))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(1==w&&g||0==v&&0!=w)&&(t[u]==c||i[u]==c&&(f=!0))&&(r[u++]=o),v=w,o+=(0,n.h)(c)}return u==a&&0==r[0]?this.result((f?-200:0)-100,r,e):d==a&&0==m?[-200,0,p]:l>-1?[-700,l,l+this.pattern.length]:d==a?[-900,m,p]:u==a?this.result((f?-200:0)-100-700,r,e):2==t.length?null:this.result((o[0]?-700:0)-200-1100,o,e)}result(e,t,i){let o=[e],s=1;for(let e of t){let t=e+(this.astral?(0,n.h)((0,n.i)(i,e)):1);s>1&&o[s-1]==e?o[s-1]=t:(o[s++]=e,o[s++]=t)}return o}}const Qt=n.F.define({combine:e=>(0,n.c)(e,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0},{defaultKeymap:(e,t)=>e&&t})}),Xt=n.E.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{cursor:"pointer",padding:"1px 1em 1px 3px",lineHeight:1.2},"& > li[aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"}}},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});function Yt(e,t,i){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true");for(let o=i.from;o<i.to;o++){let{completion:i,match:s}=e[o];const r=n.appendChild(document.createElement("li"));r.id=t+"-"+o;let l=r.appendChild(document.createElement("div"));l.classList.add("cm-completionIcon"),i.type&&l.classList.add(...i.type.split(/\s+/g).map((e=>"cm-completionIcon-"+e))),l.setAttribute("aria-hidden","true");let a=r.appendChild(document.createElement("span"));a.className="cm-completionLabel";let{label:c,detail:h}=i,u=0;for(let e=1;e<s.length;){let t=s[e++],i=s[e++];t>u&&a.appendChild(document.createTextNode(c.slice(u,t)));let n=a.appendChild(document.createElement("span"));n.appendChild(document.createTextNode(c.slice(t,i))),n.className="cm-completionMatchedText",u=i}if(u<c.length&&a.appendChild(document.createTextNode(c.slice(u))),h){let e=r.appendChild(document.createElement("span"));e.className="cm-completionDetail",e.textContent=h}r.setAttribute("role","option")}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}function Zt(e,t,i){if(e<=i)return{from:0,to:e};if(t<=e>>1){let e=Math.floor(t/i);return{from:e*i,to:(e+1)*i}}let n=Math.floor((e-t)/i);return{from:e-(n+1)*i,to:e-n*i}}class ei{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:e=>this.positionInfo(e),key:this};let i=e.state.field(t),{options:n,selected:o}=i.open,s=e.state.facet(Qt);this.range=Zt(n.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(t=>{for(let i,o=t.target;o&&o!=this.dom;o=o.parentNode)if("LI"==o.nodeName&&(i=/-(\d+)$/.exec(o.id))&&+i[1]<n.length)return Jt(e,n[+i[1]]),void t.preventDefault()})),this.list=this.dom.appendChild(Yt(n,i.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Zt(t.options.length,t.selected,this.view.state.facet(Qt).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(Yt(t.options,e.id,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfo)}))),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let e=t.options[t.selected];e.completion.info&&(this.info=this.dom.appendChild(function(e,t){let i=document.createElement("div");i.className="cm-tooltip cm-completionInfo";let{info:o}=e.completion;if("string"==typeof o)i.textContent=o;else{let s=o(e.completion);s.then?s.then((e=>i.appendChild(e)),(e=>(0,n.m)(t.state,e,"completion info"))):i.appendChild(s)}return i}(e,this.view)),this.view.requestMeasure(this.placeInfo))}}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&function(e,t){let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();n.top<i.top?e.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(e.scrollTop+=n.bottom-i.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e)return null;let t=this.dom.getBoundingClientRect(),i=e.getBoundingClientRect().top-t.top;if(i<0||i>this.list.clientHeight-10)return null;let o=this.view.textDirection==n.D.RTL,s=t.left,r=innerWidth-t.right;return o&&s<Math.min(300,r)?o=!1:!o&&r<Math.min(300,s)&&(o=!0),{top:i,left:o}}positionInfo(e){this.info&&e&&(this.info.style.top=e.top+"px",this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left))}}function ti(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class ii{constructor(e,t,i,n,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ii(this.options,oi(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,n){let o=function(e,t){let i=[];for(let n of e)if(n.hasResult()){let e,o=new Kt(t.sliceDoc(n.from,n.to));for(let t of n.result.options)(e=o.match(t.label))&&(null!=t.boost&&(e[0]+=t.boost),i.push(new Wt(t,n,e)))}i.sort(li);let n=[],o=null;for(let e of i.sort(li)){if(300==n.length)break;o&&o.label==e.completion.label&&o.detail==e.completion.detail?ti(e.completion)>ti(o)&&(n[n.length-1]=e):n.push(e),o=e.completion}return n}(e,t);if(!o.length)return null;let s=0;if(n&&n.selected){let e=n.options[n.selected].completion;for(let t=0;t<o.length&&!s;t++)o[t].completion==e&&(s=t)}return new ii(o,oi(i,s),{pos:e.reduce(((e,t)=>t.hasResult()?Math.min(e,t.from):e),1e8),create:(r=mi,e=>new ei(e,r))},n?n.timestamp:Date.now(),s);var r}map(e){return new ii(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class ni{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new ni(ri,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Qt),n=(i.override||t.languageDataAt("autocomplete",Ut(t)).map(_t)).map((t=>(this.active.find((e=>e.source==t))||new ai(t,this.active.some((e=>0!=e.state))?1:0,!1)).update(e,i)));n.length==this.active.length&&n.every(((e,t)=>e==this.active[t]))&&(n=this.active);let o=e.selection||n.some((t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to)))||!function(e,t){if(e==t)return!0;for(let i=0,n=0;;){for(;i<e.length&&!e[i].hasResult;)i++;for(;n<t.length&&!t[n].hasResult;)n++;let o=i==e.length,s=n==t.length;if(o||s)return o==s;if(e[i++].result!=t[n++].result)return!1}}(n,this.active)?ii.build(n,t,this.id,this.open):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&n.every((e=>1!=e.state))&&n.some((e=>e.hasResult()))&&(n=n.map((e=>e.hasResult()?new ai(e.source,0,!1):e)));for(let t of e.effects)t.is(di)&&(o=o&&o.setSelected(t.value,this.id));return n==this.active&&o==this.open?this:new ni(n,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:si}}function oi(e,t){return{"aria-autocomplete":"list","aria-activedescendant":e+"-"+t,"aria-owns":e}}const si={"aria-autocomplete":"list"},ri=[];function li(e,t){let i=t.match[0]-e.match[0];if(i)return i;let n=e.completion.label,o=t.completion.label;return n<o?-1:n==o?0:1}class ai{constructor(e,t,i){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}explicitAt(e){return this.explicit}update(e,t){let i=e.annotation(n.T.userEvent),o=this;"input"==i||"delete"==i?o=o.handleUserEvent(e,i,t):e.docChanged?o=o.handleChange(e):e.selection&&0!=o.state&&(o=new ai(o.source,0,!1));for(let t of e.effects)if(t.is(hi))o=new ai(o.source,1,t.value);else if(t.is(ui))o=new ai(o.source,0,!1);else if(t.is(fi))for(let e of t.value)e.source==o.source&&(o=e);return o}handleUserEvent(e,t,i){return"delete"!=t&&i.activateOnTyping?new ai(this.source,1,!1):this}handleChange(e){return e.changes.touchesRange(Ut(e.startState))?new ai(this.source,0,!1):this}}class ci extends ai{constructor(e,t,i,n,o,s){super(e,2,t>-1),this.explicitPos=t,this.result=i,this.from=n,this.to=o,this.span=s}hasResult(){return!0}explicitAt(e){return this.explicitPos==e}mapExplicit(e){return this.explicitPos<0?-1:e.mapPos(this.explicitPos)}handleUserEvent(e,t,i){let n=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=Ut(e.state);return(this.explicit?s<n:s<=n)||s>o?new ai(this.source,"input"==t&&i.activateOnTyping?1:0,!1):this.span&&(n==o||this.span.test(e.state.sliceDoc(n,o)))?new ci(this.source,this.mapExplicit(e.changes),this.result,n,o,this.span):new ai(this.source,1,!1)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ai(this.source,0,!1):this.map(e.changes)}map(e){return new ci(this.source,this.mapExplicit(e),this.result,e.mapPos(this.from),e.mapPos(this.to,1),this.span)}}const hi=n.d.define(),ui=n.d.define(),fi=n.d.define({map:(e,t)=>e.map((e=>e.hasResult()&&!t.empty?e.map(t):e))}),di=n.d.define(),mi=n.S.define({create:()=>ni.start(),update:(e,t)=>e.update(t),provide:e=>[Bt.from(e,(e=>e.tooltip)),n.E.contentAttributes.from(e,(e=>e.attrs))]});function pi(e,t="option"){return i=>{let n=i.state.field(mi,!1);if(!n||!n.open||Date.now()-n.open.timestamp<75)return!1;let o,s=1;"page"==t&&(o=i.dom.querySelector(".cm-tooltip-autocomplete"))&&(s=Math.max(2,Math.floor(o.offsetHeight/o.firstChild.offsetHeight)));let r=n.open.selected+s*(e?1:-1),{length:l}=n.open.options;return r<0?r="page"==t?0:l-1:r>=l&&(r="page"==t?l-1:0),i.dispatch({effects:di.of(r)}),!0}}class gi{constructor(e,t){this.source=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const vi=n.V.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of e.state.field(mi).active)1==t.state&&this.startQuery(t)}update(e){let t=e.state.field(mi);if(!e.selectionSet&&!e.docChanged&&e.startState.field(mi)==t)return;let i=e.transactions.some((e=>{let t=e.annotation(n.T.userEvent);return(e.selection||e.docChanged)&&"input"!=t&&"delete"!=t}));for(let t=0;t<this.running.length;t++){let o=this.running[t];if(i||o.updates.length+e.transactions.length>50&&o.time-Date.now()>1e3){for(let e of o.context.abortListeners)try{e()}catch(e){(0,n.m)(this.view.state,e)}o.context.abortListeners=null,this.running.splice(t--,1)}else o.updates.push(...e.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some((e=>1==e.state&&!this.running.some((t=>t.source==e.source))))?setTimeout((()=>this.startUpdate()),50):-1,0!=this.composing)for(let t of e.transactions)"input"==t.annotation(n.T.userEvent)?this.composing=2:2==this.composing&&t.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:e}=this.view,t=e.field(mi);for(let e of t.active)1!=e.state||this.running.some((t=>t.source==e.source))||this.startQuery(e)}startQuery(e){let{state:t}=this.view,i=Ut(t),o=new Ft(t,i,e.explicitAt(i)),s=new gi(e.source,o);this.running.push(s),Promise.resolve(e.source(o)).then((e=>{s.context.aborted||(s.done=e||null,this.scheduleAccept())}),(e=>{this.view.dispatch({effects:ui.of(null)}),(0,n.m)(this.view.state,e)}))}scheduleAccept(){this.running.every((e=>void 0!==e.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),50))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],i=this.view.state.facet(Qt);for(let n=0;n<this.running.length;n++){let o=this.running[n];if(void 0===o.done)continue;if(this.running.splice(n--,1),o.done){let n=new ci(o.source,o.context.explicit?o.context.pos:-1,o.done,o.done.from,null!==(e=o.done.to)&&void 0!==e?e:Ut(o.updates.length?o.updates[0].startState:this.view.state),o.done.span?jt(o.done.span,!0):null);for(let e of o.updates)n=n.update(e,i);if(n.hasResult()){t.push(n);continue}}let s=this.view.state.field(mi).active.find((e=>e.source==o.source));if(s&&1==s.state)if(null==o.done){let e=new ai(o.source,0,!1);for(let t of o.updates)e=e.update(t,i);1!=e.state&&t.push(e)}else this.startQuery(s)}t.length&&this.view.dispatch({effects:fi.of(t)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:hi.of(!1)})),20),this.composing=0}}});function bi(e={}){return[mi,Qt.of(e),vi,xi,Xt]}const wi=[{key:"Ctrl-Space",run:e=>!!e.state.field(mi,!1)&&(e.dispatch({effects:hi.of(!0)}),!0)},{key:"Escape",run:e=>{let t=e.state.field(mi,!1);return!(!t||!t.active.some((e=>0!=e.state))||(e.dispatch({effects:ui.of(null)}),0))}},{key:"ArrowDown",run:pi(!0)},{key:"ArrowUp",run:pi(!1)},{key:"PageDown",run:pi(!0,"page")},{key:"PageUp",run:pi(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(mi,!1);return!(!t||!t.open||Date.now()-t.open.timestamp<75||(Jt(e,t.open.options[t.open.selected]),0))}}],xi=n.l.override(n.n.computeN([Qt],(e=>e.facet(Qt).defaultKeymap?[wi]:[])));function yi(e,t){return({state:i,dispatch:n})=>{let o=e(t,i.selection.ranges,i);return!!o&&(n(i.update(o)),!0)}}const ki=yi(Ti,0),Ci=yi(Ai,0),Mi=[{key:"Mod-/",run:e=>{let t=Si(e.state);return t.line?ki(e):!!t.block&&Ci(e)}},{key:"Alt-A",run:Ci}];function Si(e,t=e.selection.main.head){let i=e.languageDataAt("commentTokens",t);return i.length?i[0]:{}}function Ai(e,t,i){let o=t.map((e=>Si(i,e.from).block));if(!o.every((e=>e)))return null;let s=t.map(((e,t)=>function(e,{open:t,close:i},n,o){let s,r,l=e.sliceDoc(n-50,n),a=e.sliceDoc(o,o+50),c=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(a)[0].length,u=l.length-c;if(l.slice(u-t.length,u)==t&&a.slice(h,h+i.length)==i)return{open:{pos:n-c,margin:c&&1},close:{pos:o+h,margin:h&&1}};o-n<=100?s=r=e.sliceDoc(n,o):(s=e.sliceDoc(n,n+50),r=e.sliceDoc(o-50,o));let f=/^\s*/.exec(s)[0].length,d=/\s*$/.exec(r)[0].length,m=r.length-d-i.length;return s.slice(f,f+t.length)==t&&r.slice(m,m+i.length)==i?{open:{pos:n+f+t.length,margin:/\s/.test(s.charAt(f+t.length))?1:0},close:{pos:o-d-i.length,margin:/\s/.test(r.charAt(m-1))?1:0}}:null}(i,o[t],e.from,e.to)));if(2!=e&&!s.every((e=>e))){let e=0;return i.changeByRange((t=>{let{open:i,close:r}=o[e++];if(s[e])return{range:t};let l=i.length+1;return{changes:[{from:t.from,insert:i+" "},{from:t.to,insert:" "+r}],range:n.b.range(t.anchor+l,t.head+l)}}))}if(1!=e&&s.some((e=>e))){let e=[];for(let t,i=0;i<s.length;i++)if(t=s[i]){let n=o[i],{open:s,close:r}=t;e.push({from:s.pos-n.open.length,to:s.pos+s.margin},{from:r.pos-r.margin,to:r.pos+n.close.length})}return{changes:e}}return null}function Ti(e,t,i){let n=[],o=-1;for(let{from:e,to:s}of t){let t=n.length,r=1e9;for(let t=e;t<=s;){let l=i.doc.lineAt(t);if(l.from>o&&(e==s||s>l.from)){o=l.from;let e=Si(i,t).line;if(!e)continue;let s=/^\s*/.exec(l.text)[0].length,a=s==l.length,c=l.text.slice(s,s+e.length)==e?s:-1;s<l.text.length&&s<r&&(r=s),n.push({line:l,comment:c,token:e,indent:s,empty:a,single:!1})}t=l.to+1}if(r<1e9)for(let e=t;e<n.length;e++)n[e].indent<n[e].line.text.length&&(n[e].indent=r);n.length==t+1&&(n[t].single=!0)}if(2!=e&&n.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:i,indent:o,empty:s,single:r}of n)!r&&s||e.push({from:t.from+o,insert:i+" "});let t=i.changes(e);return{changes:t,selection:i.selection.map(t,1)}}if(1!=e&&n.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:i,token:o}of n)if(i>=0){let n=t.from+i,s=n+o.length;" "==t.text[s-t.from]&&s++,e.push({from:n,to:s})}return{changes:e}}return null}const Li=2e3;function Di(e,t){let i=e.posAtCoords({x:t.clientX,y:t.clientY});if(null==i)return null;let o=e.state.doc.lineAt(i),s=i-o.from,r=s>Li?-1:s==o.length?function(e,t){let i=e.coordsAtPos(e.viewport.from);return i?Math.round(Math.abs((i.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,n.p)(o.text.slice(0,i-o.from),0,e.state.tabSize);return{line:o.number,col:r,off:s}}function Ri(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return n.E.mouseSelectionStyle.of(((e,i)=>t(i)?function(e,t){let i=Di(e,t),o=e.state.selection;return i?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(i.line).from),n=e.state.doc.lineAt(t);i={line:n.number,col:i.col,off:Math.min(i.off,n.length)},o=o.map(e.changes)}},get(t,s,r){let l=Di(e,t);if(!l)return o;let a=function(e,t,i){let o=Math.min(t.line,i.line),s=Math.max(t.line,i.line),r=[];if(t.off>Li||i.off>Li||t.col<0||i.col<0){let l=Math.min(t.off,i.off),a=Math.max(t.off,i.off);for(let t=o;t<=s;t++){let i=e.doc.line(t);i.length<=a&&r.push(n.b.range(i.from+l,i.to+a))}}else{let l=Math.min(t.col,i.col),a=Math.max(t.col,i.col);for(let t=o;t<=s;t++){let i=e.doc.line(t),o=i.length>Li?i.text.slice(0,2*a):i.text,s=(0,n.o)(o,0,l,e.tabSize),c=(0,n.o)(o,0,a,e.tabSize);s.leftOver||r.push(n.b.range(i.from+s.offset,i.from+c.offset))}}return r}(e.state,i,l);return a.length?r?n.b.create(a.concat(o.ranges)):n.b.create(a):o}}:null}(e,i):null))}class Ei{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ii{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t){let i=n.f.set(e.map((e=>e.from<e.to?n.f.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to):n.f.widget({widget:new Ui(e),diagnostic:e}).range(e.from))),!0);return new Ii(i,t,Oi(i))}}function Oi(e,t=null,i=0){let n=null;return e.between(i,1e9,((e,i,{spec:o})=>{if(!t||o.diagnostic==t)return n=new Ei(e,i,o.diagnostic),!1})),n}const Pi=n.d.define(),qi=n.d.define(),Ni=n.d.define(),Hi=n.S.define({create:()=>new Ii(n.f.none,null,null),update(e,t){if(t.docChanged){let i=e.diagnostics.map(t.changes),n=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);n=Oi(i,e.selected.diagnostic,o)||Oi(i,null,o)}e=new Ii(i,e.panel,n)}for(let i of t.effects)i.is(Pi)?e=Ii.init(i.value,e.panel):i.is(qi)?e=new Ii(e.diagnostics,i.value?Ji.open:null,e.selected):i.is(Ni)&&(e=new Ii(e.diagnostics,e.panel,i.value));return e},provide:e=>[Ve.from(e,(e=>e.panel)),n.E.decorations.from(e,(e=>e.diagnostics))]}),Bi=n.f.mark({class:"cm-lintRange cm-lintRange-active"});function Vi(e,t,i){let{diagnostics:n}=e.state.field(Hi),o=[],s=2e8,r=0;return n.between(t-(i<0?1:0),t+(i>0?1:0),((e,n,{spec:l})=>{t>=e&&t<=n&&(e==n||(t>e||i>0)&&(t<n||i<0))&&(o.push(l.diagnostic),s=Math.min(e,s),r=Math.max(n,r))})),o.length?{pos:s,end:r,above:e.state.doc.lineAt(s).to<r,create:()=>({dom:$e("ul",{class:"cm-tooltip-lint"},o.map((t=>Wi(e,t,!1))))})}:null}const $i=e=>{let t=e.state.field(Hi,!1);return!(!t||!t.panel||(e.dispatch({effects:qi.of(!1)}),0))},Fi=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(Hi,!1);var i,o;t&&t.panel||e.dispatch({effects:(i=e.state,o=[qi.of(!0)],i.field(Hi,!1)?o:o.concat(n.d.appendConfig.of([Hi,n.E.decorations.compute([Hi],(e=>{let{selected:t,panel:i}=e.field(Hi);return t&&i&&t.from!=t.to?n.f.set([Bi.range(t.from,t.to)]):n.f.none})),$t(Vi),_i])))});let s=Pe(e,Ji.open);return s&&s.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:e=>{let t=e.state.field(Hi,!1);if(!t)return!1;let i=e.state.selection.main,n=t.diagnostics.iter(i.to+1);return!(!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==i.from&&n.to==i.to)||(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),0))}}];function zi(e){let t=[];if(e)e:for(let{name:i}of e){for(let e=0;e<i.length;e++){let n=i[e];if(/[a-zA-Z]/.test(n)&&!t.some((e=>e.toLowerCase()==n.toLowerCase()))){t.push(n);continue e}}t.push("")}return t}function Wi(e,t,i){var n;let o=i?zi(t.actions):[];return $e("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},$e("span",{class:"cm-diagnosticText"},t.message),null===(n=t.actions)||void 0===n?void 0:n.map(((i,n)=>{let s=n=>{n.preventDefault();let o=Oi(e.state.field(Hi).diagnostics,t);o&&i.apply(e,o.from,o.to)},{name:r}=i,l=o[n]?r.indexOf(o[n]):-1,a=l<0?r:[r.slice(0,l),$e("u",r.slice(l,l+1)),r.slice(l+1)];return $e("button",{class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${r}${l<0?"":` (access key "${o[n]})"`}.`},a)})),t.source&&$e("div",{class:"cm-diagnosticSource"},t.source))}class Ui extends n.W{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return $e("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class ji{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Wi(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ji{constructor(e){this.view=e,this.items=[],this.list=$e("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)$i(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.items.length))return;{let{diagnostic:i}=this.items[this.selectedIndex],n=zi(i.actions);for(let o=0;o<n.length;o++)if(n[o].toUpperCase().charCodeAt(0)==t.keyCode){let t=Oi(this.view.state.field(Hi).diagnostics,i);t&&i.actions[o].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=$e("div",{class:"cm-panel-lint"},this.list,$e("button",{name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$i(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Hi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Hi),i=0,n=!1,o=null;for(e.between(0,this.view.state.doc.length,((e,s,{spec:r})=>{let l,a=-1;for(let e=i;e<this.items.length;e++)if(this.items[e].diagnostic==r.diagnostic){a=e;break}a<0?(l=new ji(this.view,r.diagnostic),this.items.splice(i,0,l),n=!0):(l=this.items[a],a>i&&(this.items.splice(i,a-i),n=!0)),t&&l.diagnostic==t.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),o=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new ji(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:e,panel:t})=>{e.top<t.top?this.list.scrollTop-=t.top-e.top:e.bottom>t.bottom&&(this.list.scrollTop+=e.bottom-t.bottom)}})):this.items.length||this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(0==this.items.length)return;let t=Oi(this.view.state.field(Hi).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Ni.of(t)})}static open(e){return new Ji(e)}}function Gi(e){return"function"!=typeof btoa?"none":`url('data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="6" height="3">\n    <path d="m0 3 l2 -2 l1 0 l2 2 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>\n  </svg>`)}')`}const _i=n.E.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x"},".cm-lintRange-error":{backgroundImage:Gi("#d11")},".cm-lintRange-warning":{backgroundImage:Gi("orange")},".cm-lintRange-info":{backgroundImage:Gi("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Ki=[G(),X(),(0,n.q)(),f(),me(),(0,n.s)(),n.t.allowMultipleSelections.of(!0),(0,o.i)(),r.d.fallback,(0,s.b)(),ye(),bi(),Ri(),(0,n.u)(),it(),n.n.of([...Ae,...s.d,...Lt,...T,...le,...Mi,...wi,...Fi])]}}]);